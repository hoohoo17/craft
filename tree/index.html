<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚˜ë¬´í¬ë˜í”„íŠ¸</title>
    <style>
        :root {
            --bg-color: #75b85b;
            --panel-bg: #5a9646;
            --text-color: #fff;
            --coin-bronze: #cd7f32;
            --coin-silver: #c0c0c0;
            --coin-gold: #ffd700;
        }
        body {
            font-family: 'Nanum Gothic', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            /* ì¸í¬ê·¸ë˜í”½ ì´ë¯¸ì§€ë¥¼ ë°°ê²½ìœ¼ë¡œ ì‚¬ìš© (ì‹¤ì œ íŒŒì¼ ê²½ë¡œë¡œ ë³€ê²½ í•„ìš”) */
            background-image: url('image_1.png'); 
            background-size: cover;
            background-position: center;
            background-blend-mode: multiply;
        }
        #game-container {
            background-color: rgba(0, 0, 0, 0.6);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
            width: 90%;
            max-width: 800px;
        }
        .panel {
            background-color: var(--panel-bg);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .currency {
            font-weight: bold;
        }
        .coin {
            display: inline-block;
            width: 1em;
            height: 1em;
            border-radius: 50%;
            margin-right: 5px;
            text-align: center;
            line-height: 1em;
            font-size: 0.8em;
        }
        .bronze { background-color: var(--coin-bronze); color: #fff; }
        .silver { background-color: var(--coin-silver); color: #000; }
        .gold { background-color: var(--coin-gold); color: #000; }

        .content {
            display: flex;
            gap: 15px;
        }
        .tree-farm {
            flex: 2;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 10px;
        }
        .tree-btn {
            background-color: #4a7c3a;
            border: none;
            border-radius: 8px;
            padding: 10px;
            cursor: pointer;
            text-align: center;
            transition: transform 0.1s, background-color 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .tree-btn:hover { background-color: #5e9b4e; transform: scale(1.05); }
        .tree-btn:active { transform: scale(0.95); }
        .tree-btn:disabled {
            background-color: #3a5c2a;
            cursor: not-allowed;
            opacity: 0.7;
        }
        .tree-icon { font-size: 2em; margin-bottom: 5px; }
        .tree-name { font-size: 0.9em; margin-bottom: 3px; }
        .tree-value { font-size: 0.8em; }

        .sidebar {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .upgrade-btn, .repair-btn {
            background-color: #e67e22;
            border: none;
            padding: 10px;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            transition: background-color 0.2s;
        }
        .upgrade-btn:hover, .repair-btn:hover { background-color: #d35400; }
        .upgrade-btn:disabled, .repair-btn:disabled { background-color: #95a5a6; cursor: not-allowed; }
        .tab-active {
            background-color: #27ae60 !important;
        }
        
        .durability-bar-container {
            background-color: #333;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 5px;
        }
        #durability-bar {
            background-color: #2ecc71;
            height: 100%;
            width: 100%;
            transition: width 0.3s;
        }

        #message-area {
            text-align: center;
            margin-top: 10px;
            min-height: 1.2em;
            font-weight: bold;
            color: #f1c40f;
        }

        #congratulations-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        #congratulations-message {
            font-size: 4em;
            font-weight: bold;
            color: #ffd700;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
    </style>
</head>
<body>

<div id="game-container">
    <div class="panel header">
        <h1 id="game-title">ë‚˜ë¬´í¬ë˜í”„íŠ¸</h1>
        <div class="currency">
            ë³´ìœ  ìê¸ˆ: 
            <span id="gold">0</span> <span class="coin gold">ê¸ˆ</span>
            <span id="silver">0</span> <span class="coin silver">ì€</span>
            <span id="bronze">0</span> <span class="coin bronze">ë™</span>
        </div>
    </div>

    <div class="content">
        <div class="panel" style="margin-bottom: 10px; display: none;">
            <div style="display: flex; gap: 10px;">
                <button id="tab-trees" class="upgrade-btn" onclick="switchTab('trees')" style="flex: 1;">ğŸŒ² ë‚˜ë¬´</button>
                <button id="tab-ores" class="upgrade-btn" onclick="switchTab('ores')" style="flex: 1;">â›ï¸ ê´‘ë¬¼</button>
            </div>
        </div>
        <div class="panel tree-farm" id="tree-list">
            </div>
        <div class="panel tree-farm" id="ore-list" style="display: none;">
            </div>

        <div class="sidebar">
            <div class="panel">
                <h3>ğŸ› ï¸ ë„êµ¬ ì—…ê·¸ë ˆì´ë“œ</h3>
                <div id="current-tool-info">í˜„ì¬: ê¸°ë³¸ ë„ë¼</div>
                <button id="upgrade-btn" class="upgrade-btn">
                    ì€ ë„ë¼ë¡œ ì—…ê·¸ë ˆì´ë“œ<br>(ë¹„ìš©: 100 ë™)
                </button>
            </div>

            <div class="panel">
                <h3>ğŸ”§ ë‚´êµ¬ë„ ê´€ë¦¬</h3>
                <div>ë‚´êµ¬ë„: <span id="durability-text">100 / 100</span></div>
                <div class="durability-bar-container">
                    <div id="durability-bar"></div>
                </div>
                <button id="repair-btn" class="repair-btn" onclick="repairDurability()">
                    ìˆ˜ë¦¬í•˜ê¸° (ë¹„ìš©: 10 ë™)
                </button>
            </div>
        </div>
    </div>

    <div id="message-area">ê²Œì„ì„ ì‹œì‘í•©ë‹ˆë‹¤! ë‚˜ë¬´ë¥¼ ìºì„œ ëˆì„ ë²„ì„¸ìš”.</div>
</div>

<div id="congratulations-overlay">
    <div id="congratulations-message">ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰</div>
</div>

<script>
    // --- ê²Œì„ ë°ì´í„° ë° ìƒíƒœ ---
    let money = { gold: 0, silver: 0, bronze: 0 };
    let currentToolIndex = 0;
    let currentPickaxeIndex = 0;
    let currentTab = 'trees';
    let durability = 100;
    let pickaxeDurability = 100;
    const maxDurability = 100;
    const repairCost = 10; // ë‚´êµ¬ë„ 10 íšŒë³µë‹¹ ë¹„ìš© (ë™)
    const repairAmount = 10;

    const trees = [
        { name: 'ì°¸ë‚˜ë¬´', value: { gold: 0, silver: 0, bronze: 2 }, reqTool: 0, icon: 'ğŸŒ³' },
        { name: 'ê°€ë¬¸ë¹„ë‚˜ë¬´', value: { gold: 0, silver: 0, bronze: 5 }, reqTool: 1, icon: 'ğŸŒ²' },
        { name: 'ìì‘ë‚˜ë¬´', value: { gold: 0, silver: 0, bronze: 10 }, reqTool: 2, icon: 'ğŸŒ³' },
        { name: 'ì •ê¸€ë‚˜ë¬´', value: { gold: 0, silver: 1, bronze: 6 }, reqTool: 3, icon: 'ğŸŒ´' },
        { name: 'ì•„ì¹´ì‹œì•„ë‚˜ë¬´', value: { gold: 0, silver: 1, bronze: 10 }, reqTool: 4, icon: 'ğŸŒ³' },
        { name: 'ì§™ì€ ì°¸ë‚˜ë¬´', value: { gold: 0, silver: 2, bronze: 7 }, reqTool: 5, icon: 'ğŸŒ³' },
        { name: 'ë§¹ê·¸ë¡œë¸Œë‚˜ë¬´', value: { gold: 0, silver: 3, bronze: 10 }, reqTool: 5, icon: 'ğŸŒ³' },
        { name: 'ë²šë‚˜ë¬´', value: { gold: 0, silver: 5, bronze: 10 }, reqTool: 5, icon: 'ğŸŒ¸' }
    ];

    const tools = [
        { name: 'ê¸°ë³¸ ë„ë¼', upgradeCost: { gold: 0, silver: 0, bronze: 30 }, durabilityCost: 2 },
        
        { name: 'ê¸ˆ ë„ë¼', upgradeCost: { gold: 0, silver: 0, bronze: 50 }, durabilityCost: 4 },
        { name: 'ì—ë©”ë„ë“œ ë„ë¼', upgradeCost: { gold: 0, silver: 0, bronze: 60 }, durabilityCost: 5 },
        { name: 'ë‹¤ì´ì•„ëª¬ë“œ ë„ë¼', upgradeCost: { gold: 0, silver: 2, bronze: 30 }, durabilityCost: 6 },
        { name: 'ë„¤ë”ë¼ì´íŠ¸ ë„ë¼', upgradeCost: { gold: 0, silver: 9, bronze: 40 }, durabilityCost: 7 },
        { name: 'êµ¬ë¦¬ ë„ë¼', upgradeCost: { gold: 1, silver: 20, bronze: 30 }, durabilityCost: 8 },
        { name: 'ë£¨ë¹„ ë„ë¼', upgradeCost: null, durabilityCost: 9 }

        

     
        

    ];

    const ores = [
        { name: 'ì„ì˜', value: { gold: 0, silver: 0, bronze: 1 }, reqPickaxe: 0, icon: 'ğŸ’' },
        { name: 'ë°©í•´ì„', value: { gold: 0, silver: 0, bronze: 2 }, reqPickaxe: 0, icon: 'ğŸ’' },
        { name: 'ì¥ì„', value: { gold: 0, silver: 0, bronze: 3 }, reqPickaxe: 0, icon: 'ğŸ’' },
        { name: 'ë°±ìš´ì„', value: { gold: 0, silver: 0, bronze: 4 }, reqPickaxe: 1, icon: 'ğŸ’' },
        { name: 'í˜•ì„', value: { gold: 0, silver: 0, bronze: 5 }, reqPickaxe: 1, icon: 'ğŸ’' },
        { name: 'í™©ì² ì„', value: { gold: 0, silver: 0, bronze: 6 }, reqPickaxe: 1, icon: 'ğŸ’' },
        { name: 'ë°©ì—°ì„', value: { gold: 0, silver: 0, bronze: 7 }, reqPickaxe: 2, icon: 'ğŸ’' },
        { name: 'ì ì² ì„', value: { gold: 0, silver: 0, bronze: 8 }, reqPickaxe: 2, icon: 'ğŸ’' },
        { name: 'ìì² ì„', value: { gold: 0, silver: 0, bronze: 9 }, reqPickaxe: 2, icon: 'ğŸ’' },
        { name: 'êµ¬ë¦¬', value: { gold: 0, silver: 0, bronze: 10 }, reqPickaxe: 3, icon: 'ğŸŸ ' },
        { name: 'í™©', value: { gold: 0, silver: 0, bronze: 12 }, reqPickaxe: 3, icon: 'ğŸŸ¡' },
        { name: 'í‘ì—°', value: { gold: 0, silver: 0, bronze: 15 }, reqPickaxe: 3, icon: 'âš«' },
        { name: 'ì€', value: { gold: 0, silver: 1, bronze: 0 }, reqPickaxe: 4, icon: 'ğŸ¥ˆ' },
        { name: 'ê¸ˆ', value: { gold: 0, silver: 2, bronze: 0 }, reqPickaxe: 4, icon: 'ğŸ¥‡' },
        { name: 'ë‹¤ì´ì•„ëª¬ë“œ', value: { gold: 0, silver: 5, bronze: 0 }, reqPickaxe: 5, icon: 'ğŸ’ ' },
        { name: 'ì½”ëŸ°ë¤', value: { gold: 0, silver: 3, bronze: 0 }, reqPickaxe: 5, icon: 'ğŸ’' },
        { name: 'ë² ë¦´', value: { gold: 0, silver: 4, bronze: 0 }, reqPickaxe: 5, icon: 'ğŸ’' },
        { name: 'í† íŒŒì¦ˆ', value: { gold: 0, silver: 6, bronze: 0 }, reqPickaxe: 6, icon: 'ğŸ’' },
        { name: 'ê°€ë„·', value: { gold: 0, silver: 7, bronze: 0 }, reqPickaxe: 6, icon: 'ğŸ’' },
        { name: 'ìŠ¤í”¼ë„¬', value: { gold: 0, silver: 8, bronze: 0 }, reqPickaxe: 6, icon: 'ğŸ’' },
        { name: 'ì•„íŒŒíƒ€ì´íŠ¸', value: { gold: 0, silver: 9, bronze: 0 }, reqPickaxe: 7, icon: 'ğŸ’' },
        { name: 'ì§€ë¥´ì½˜', value: { gold: 0, silver: 10, bronze: 0 }, reqPickaxe: 7, icon: 'ğŸ’' },
        { name: 'í¬ë¦¬ì†Œë² ë¦´', value: { gold: 0, silver: 12, bronze: 0 }, reqPickaxe: 7, icon: 'ğŸ’' },
        { name: 'ì˜¬ë¦¬ë¹ˆ', value: { gold: 0, silver: 15, bronze: 0 }, reqPickaxe: 8, icon: 'ğŸ’' },
        { name: 'í˜ë¦¬ë„íŠ¸', value: { gold: 0, silver: 18, bronze: 0 }, reqPickaxe: 8, icon: 'ğŸ’' },
        { name: 'ë¡œë„ë‚˜ì´íŠ¸', value: { gold: 0, silver: 20, bronze: 0 }, reqPickaxe: 8, icon: 'ğŸ’' },
        { name: 'ë§ë¼ì¹´ì´íŠ¸', value: { gold: 0, silver: 25, bronze: 0 }, reqPickaxe: 9, icon: 'ğŸ’' },
        { name: 'ì•„ì£¼ë¼ì´íŠ¸', value: { gold: 0, silver: 30, bronze: 0 }, reqPickaxe: 9, icon: 'ğŸ’' },
        { name: 'í¬ë¦¬ì†Œì½œë¼', value: { gold: 0, silver: 35, bronze: 0 }, reqPickaxe: 9, icon: 'ğŸ’' },
        { name: 'í„°í‚¤ì„', value: { gold: 0, silver: 40, bronze: 0 }, reqPickaxe: 10, icon: 'ğŸ’' },
        { name: 'ë£¨í‹¸', value: { gold: 0, silver: 50, bronze: 0 }, reqPickaxe: 10, icon: 'ğŸ’' },
        { name: 'ì¼ë©”ë‚˜ì´íŠ¸', value: { gold: 1, silver: 0, bronze: 0 }, reqPickaxe: 11, icon: 'ğŸ’' },
        { name: 'ìŠ¤íŒ”ë ˆë¼ì´íŠ¸', value: { gold: 1, silver: 10, bronze: 0 }, reqPickaxe: 11, icon: 'ğŸ’' },
        { name: 'ì¹¼ì½”íŒŒì´ë¼ì´íŠ¸', value: { gold: 1, silver: 20, bronze: 0 }, reqPickaxe: 11, icon: 'ğŸ’' },
        { name: 'ë³´ë¥´ë‚˜ì´íŠ¸', value: { gold: 1, silver: 30, bronze: 0 }, reqPickaxe: 12, icon: 'ğŸ’' },
        { name: 'ì¹´ì‹œí…Œë¼ì´íŠ¸', value: { gold: 1, silver: 40, bronze: 0 }, reqPickaxe: 12, icon: 'ğŸ’' },
        { name: 'ìš¸í”„ë¼ë§ˆì´íŠ¸', value: { gold: 1, silver: 50, bronze: 0 }, reqPickaxe: 12, icon: 'ğŸ’' },
        { name: 'ì¤‘ì •ì„', value: { gold: 2, silver: 0, bronze: 0 }, reqPickaxe: 13, icon: 'ğŸ’' },
        { name: 'ì„ê³ ', value: { gold: 2, silver: 10, bronze: 0 }, reqPickaxe: 13, icon: 'ğŸ’' },
        { name: 'íƒˆí¬', value: { gold: 2, silver: 20, bronze: 0 }, reqPickaxe: 13, icon: 'ğŸ’' },
        { name: 'ë°±ìš´ëª¨', value: { gold: 2, silver: 30, bronze: 0 }, reqPickaxe: 14, icon: 'ğŸ’' },
        { name: 'í‘ìš´ëª¨', value: { gold: 2, silver: 40, bronze: 0 }, reqPickaxe: 14, icon: 'ğŸ’' },
        { name: 'ì¹´ì˜¬ë¦¬ë‚˜ì´íŠ¸', value: { gold: 2, silver: 50, bronze: 0 }, reqPickaxe: 14, icon: 'ğŸ’' },
        { name: 'í¬ë¦¬ì†Œíƒ€ì¼', value: { gold: 3, silver: 0, bronze: 0 }, reqPickaxe: 15, icon: 'ğŸ’' },
        { name: 'ì•„ë¼ê³ ë‚˜ì´íŠ¸', value: { gold: 3, silver: 10, bronze: 0 }, reqPickaxe: 15, icon: 'ğŸ’' },
        { name: 'ì…€ë ˆìŠ¤íƒ€ì´íŠ¸', value: { gold: 3, silver: 20, bronze: 0 }, reqPickaxe: 15, icon: 'ğŸ’' },
        { name: 'ì•ˆë‹¬ë£¨ì‚¬ì´íŠ¸', value: { gold: 3, silver: 30, bronze: 0 }, reqPickaxe: 16, icon: 'ğŸ’' },
        { name: 'ì¹´ì´ì•„ë‚˜ì´íŠ¸', value: { gold: 3, silver: 40, bronze: 0 }, reqPickaxe: 16, icon: 'ğŸ’' },
        { name: 'ì‹¤ë¦¬ë§ˆë‚˜ì´íŠ¸', value: { gold: 3, silver: 50, bronze: 0 }, reqPickaxe: 16, icon: 'ğŸ’' },
        { name: 'ë¸Œë£¨ì‚¬ì´íŠ¸', value: { gold: 4, silver: 0, bronze: 0 }, reqPickaxe: 17, icon: 'ğŸ’' },
        { name: 'í• ë¼ì´íŠ¸', value: { gold: 4, silver: 10, bronze: 0 }, reqPickaxe: 17, icon: 'ğŸ’' },
        { name: 'ì‹¤ë°”ì´íŠ¸', value: { gold: 4, silver: 20, bronze: 0 }, reqPickaxe: 17, icon: 'ğŸ’' },
        { name: 'ì•¤í•˜ì´ë“œë¼ì´íŠ¸', value: { gold: 4, silver: 30, bronze: 0 }, reqPickaxe: 18, icon: 'ğŸ’' },
        { name: 'í¬ë¦¬ì˜¬ë¼ì´íŠ¸', value: { gold: 4, silver: 40, bronze: 0 }, reqPickaxe: 18, icon: 'ğŸ’' },
        { name: 'ìŠ¤í‹°ë¹„ë‚˜ì´íŠ¸', value: { gold: 4, silver: 50, bronze: 0 }, reqPickaxe: 18, icon: 'ğŸ’' },
        { name: 'ì‹ ë‚˜ë°”', value: { gold: 5, silver: 0, bronze: 0 }, reqPickaxe: 19, icon: 'ğŸ’' },
        { name: 'ëª°ë¦¬ë¸Œë°ë‚˜ì´íŠ¸', value: { gold: 5, silver: 10, bronze: 0 }, reqPickaxe: 19, icon: 'ğŸ’' },
        { name: 'ì½”ë°œíƒ€ì´íŠ¸', value: { gold: 5, silver: 20, bronze: 0 }, reqPickaxe: 19, icon: 'ğŸ’' },
        { name: 'ë‹ˆì¼ˆë¦°', value: { gold: 5, silver: 30, bronze: 0 }, reqPickaxe: 20, icon: 'ğŸ’' },
        { name: 'ì•„ë¥´ì„¸ë…¸íŒŒì´ë¼ì´íŠ¸', value: { gold: 5, silver: 40, bronze: 0 }, reqPickaxe: 20, icon: 'ğŸ’' },
        { name: 'í…ŒíŠ¸ë¼í—¤ë“œë¼ì´íŠ¸', value: { gold: 5, silver: 50, bronze: 0 }, reqPickaxe: 20, icon: 'ğŸ’' },
        { name: 'ì—ë‚˜ë¥´ìì´íŠ¸', value: { gold: 6, silver: 0, bronze: 0 }, reqPickaxe: 21, icon: 'ğŸ’' },
        { name: 'ìŠ¤ë¯¸ì†Œë‚˜ì´íŠ¸', value: { gold: 6, silver: 10, bronze: 0 }, reqPickaxe: 21, icon: 'ğŸ’' },
        { name: 'ì„¸ë£¨ì‚¬ì´íŠ¸', value: { gold: 6, silver: 20, bronze: 0 }, reqPickaxe: 21, icon: 'ğŸ’' },
        { name: 'íŒŒì´ë¡œëª¨ë¥´íŒŒì´íŠ¸', value: { gold: 6, silver: 30, bronze: 0 }, reqPickaxe: 22, icon: 'ğŸ’' },
        { name: 'ëª¨ë‚˜ìì´íŠ¸', value: { gold: 6, silver: 40, bronze: 0 }, reqPickaxe: 22, icon: 'ğŸ’' },
        { name: 'ë°”ìŠ¤ë‚˜ì‚¬ì´íŠ¸', value: { gold: 6, silver: 50, bronze: 0 }, reqPickaxe: 22, icon: 'ğŸ’' },
        { name: 'ì œë…¸íƒ€ì„', value: { gold: 7, silver: 0, bronze: 0 }, reqPickaxe: 23, icon: 'ğŸ’' },
        { name: 'ê°€ëŒë¦¬ë‚˜ì´íŠ¸', value: { gold: 7, silver: 10, bronze: 0 }, reqPickaxe: 23, icon: 'ğŸ’' },
        { name: 'ì—í”¼ë„íŠ¸', value: { gold: 7, silver: 20, bronze: 0 }, reqPickaxe: 23, icon: 'ğŸ’' },
        { name: 'ì¡°ì´ì‚¬ì´íŠ¸', value: { gold: 7, silver: 30, bronze: 0 }, reqPickaxe: 24, icon: 'ğŸ’' },
        { name: 'ë² ìˆ˜ë¹„ì•„ë‚˜ì´íŠ¸', value: { gold: 7, silver: 40, bronze: 0 }, reqPickaxe: 24, icon: 'ğŸ’' },
        { name: 'ê·¸ë¡œìŠë¼', value: { gold: 7, silver: 50, bronze: 0 }, reqPickaxe: 24, icon: 'ğŸ’' },
        { name: 'ì•ˆë°ì‹ ', value: { gold: 8, silver: 0, bronze: 0 }, reqPickaxe: 25, icon: 'ğŸ’' },
        { name: 'ë¼ë¸Œë¼ë„ë¼ì´íŠ¸', value: { gold: 8, silver: 10, bronze: 0 }, reqPickaxe: 25, icon: 'ğŸ’' },
        { name: 'ì˜¤ë¥´í† í´ë ˆì´ìŠ¤', value: { gold: 8, silver: 20, bronze: 0 }, reqPickaxe: 25, icon: 'ğŸ’' },
        { name: 'ì•Œë°”ì´íŠ¸', value: { gold: 8, silver: 30, bronze: 0 }, reqPickaxe: 26, icon: 'ğŸ’' },
        { name: 'ì• ë…¸ì‚¬ì´íŠ¸', value: { gold: 8, silver: 40, bronze: 0 }, reqPickaxe: 26, icon: 'ğŸ’' },
        { name: 'í—¤ë´ë²„ìì´íŠ¸', value: { gold: 8, silver: 50, bronze: 0 }, reqPickaxe: 26, icon: 'ğŸ’' },
        { name: 'ë””ì˜µì‚¬ì´ë“œ', value: { gold: 9, silver: 0, bronze: 0 }, reqPickaxe: 27, icon: 'ğŸ’' },
        { name: 'ì•„ìš°ìì´íŠ¸', value: { gold: 9, silver: 10, bronze: 0 }, reqPickaxe: 27, icon: 'ğŸ’' },
        { name: 'í˜¸ë¥¸ë¸”ë Œë“œ', value: { gold: 9, silver: 20, bronze: 0 }, reqPickaxe: 27, icon: 'ğŸ’' },
        { name: 'íŠ¸ë ˆëª°ë¼ì´íŠ¸', value: { gold: 9, silver: 30, bronze: 0 }, reqPickaxe: 28, icon: 'ğŸ’' },
        { name: 'ì•¡í‹°ë†€ë¼ì´íŠ¸', value: { gold: 9, silver: 40, bronze: 0 }, reqPickaxe: 28, icon: 'ğŸ’' },
        { name: 'ì„¸ë¥´íœí‹´', value: { gold: 9, silver: 50, bronze: 0 }, reqPickaxe: 28, icon: 'ğŸ’' },
        { name: 'í”„ë ˆë‚˜ì´íŠ¸', value: { gold: 10, silver: 0, bronze: 0 }, reqPickaxe: 29, icon: 'ğŸ’' },
        { name: 'ë ˆí”¼ëŒë¼ì´íŠ¸', value: { gold: 10, silver: 10, bronze: 0 }, reqPickaxe: 29, icon: 'ğŸ’' },
        { name: 'ìŠ¤í¬ë“€ë¯¼', value: { gold: 10, silver: 20, bronze: 0 }, reqPickaxe: 29, icon: 'ğŸ’' },
        { name: 'í˜íƒ€ë¼ì´íŠ¸', value: { gold: 10, silver: 30, bronze: 0 }, reqPickaxe: 30, icon: 'ğŸ’' }
    ];

    const pickaxes = [
        { name: 'ê¸°ë³¸ ê³¡ê´­ì´', upgradeCost: { gold: 0, silver: 0, bronze: 30 }, durabilityCost: 2 },
        { name: 'êµ¬ë¦¬ ê³¡ê´­ì´', upgradeCost: { gold: 0, silver: 0, bronze: 50 }, durabilityCost: 3 },
        { name: 'ê¸ˆ ê³¡ê´­ì´', upgradeCost: { gold: 0, silver: 1, bronze: 0 }, durabilityCost: 4 },
        { name: 'ì—ë©”ë„ë“œ ê³¡ê´­ì´', upgradeCost: { gold: 0, silver: 2, bronze: 0 }, durabilityCost: 5 },
        { name: 'ë‹¤ì´ì•„ëª¬ë“œ ê³¡ê´­ì´', upgradeCost: { gold: 0, silver: 2, bronze: 0 }, durabilityCost: 6 },
        { name: 'ë„¤ë”ë¼ì´íŠ¸ ê³¡ê´­ì´', upgradeCost: null, durabilityCost: 7 }
    ];

    // --- ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ---
    function showMessage(msg) {
        document.getElementById('message-area').innerText = msg;
    }

    function formatValue(value) {
        let parts = [];
        if (value.gold > 0) parts.push(`${value.gold}ê¸ˆ`);
        if (value.silver > 0) parts.push(`${value.silver}ì€`);
        if (value.bronze > 0) parts.push(`${value.bronze}ë™`);
        return parts.join(' ');
    }

    function canAfford(cost) {
        // ëª¨ë“  í™”íë¥¼ ë™ ë‹¨ìœ„ë¡œ ë³€í™˜í•´ì„œ ë¹„êµ (í™˜ì „ ê°€ëŠ¥í•œ ê¸ˆì•¡ ê³ ë ¤)
        const totalMoney = money.gold * 10000 + money.silver * 100 + money.bronze;
        const totalCost = cost.gold * 10000 + cost.silver * 100 + cost.bronze;
        return totalMoney >= totalCost;
    }

    function pay(cost) {
        // í•„ìš”í•œ ê¸ˆì•¡ ê³„ì‚°
        let neededGold = cost.gold;
        let neededSilver = cost.silver;
        let neededBronze = cost.bronze;
        
        // ë™ì´ ë¶€ì¡±í•˜ë©´ ì€ì—ì„œ í™˜ì „
        if (money.bronze < neededBronze) {
            let bronzeShortage = neededBronze - money.bronze;
            let silverToConvert = Math.ceil(bronzeShortage / 100);
            if (money.silver >= silverToConvert) {
                money.silver -= silverToConvert;
                money.bronze += silverToConvert * 100;
            } else {
                // ì€ë„ ë¶€ì¡±í•˜ë©´ ê¸ˆì—ì„œ í™˜ì „
                let silverShortage = silverToConvert - money.silver;
                let goldToConvert = Math.ceil(silverShortage / 100);
                if (money.gold >= goldToConvert) {
                    money.gold -= goldToConvert;
                    money.silver += goldToConvert * 100;
                    money.silver -= silverToConvert;
                    money.bronze += silverToConvert * 100;
                }
            }
        }
        
        // ì€ì´ ë¶€ì¡±í•˜ë©´ ê¸ˆì—ì„œ í™˜ì „
        if (money.silver < neededSilver) {
            let silverShortage = neededSilver - money.silver;
            let goldToConvert = Math.ceil(silverShortage / 100);
            if (money.gold >= goldToConvert) {
                money.gold -= goldToConvert;
                money.silver += goldToConvert * 100;
            }
        }
        
        // ìµœì¢… ì§€ë¶ˆ
        money.gold -= neededGold;
        money.silver -= neededSilver;
        money.bronze -= neededBronze;
        updateUI();
    }

    function earn(value) {
        money.gold += value.gold;
        money.silver += value.silver;
        money.bronze += value.bronze;
        convertCurrency();
        updateUI();
    }

    function convertCurrency() {
        if (money.bronze >= 100) {
            let silverGain = Math.floor(money.bronze / 100);
            money.silver += silverGain;
            money.bronze %= 100;
            showMessage(`${silverGain}ì€ìœ¼ë¡œ ìë™ í™˜ì „ë˜ì—ˆìŠµë‹ˆë‹¤!`);
        }
        if (money.silver >= 100) {
            let goldGain = Math.floor(money.silver / 100);
            money.gold += goldGain;
            money.silver %= 100;
            showMessage(`${goldGain}ê¸ˆìœ¼ë¡œ ìë™ í™˜ì „ë˜ì—ˆìŠµë‹ˆë‹¤!`);
        }
    }

    // --- ê²Œì„ ë¡œì§ ---
    function chopTree(index) {
        const tree = trees[index];
        const tool = tools[currentToolIndex];

        if (durability < tool.durabilityCost) {
            showMessage("ë‚´êµ¬ë„ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤! ë„êµ¬ë¥¼ ìˆ˜ë¦¬í•˜ì„¸ìš”.");
            return;
        }

        durability -= tool.durabilityCost;
        earn(tree.value);
        showMessage(`${tree.name}ì„(ë¥¼) ìºì„œ ${formatValue(tree.value)}ì„(ë¥¼) íšë“í–ˆìŠµë‹ˆë‹¤!`);
        updateUI();
    }

    function upgradeTool() {
        const nextToolIndex = currentToolIndex + 1;
        if (nextToolIndex >= tools.length) return;

        const cost = tools[currentToolIndex].upgradeCost;
        if (canAfford(cost)) {
            pay(cost);
            currentToolIndex++;
            durability = maxDurability; // ì—…ê·¸ë ˆì´ë“œ ì‹œ ë‚´êµ¬ë„ ìµœëŒ€ì¹˜ë¡œ íšŒë³µ
            showMessage(`${tools[currentToolIndex].name}(ìœ¼)ë¡œ ì—…ê·¸ë ˆì´ë“œ ì™„ë£Œ! ë‚´êµ¬ë„ê°€ ìµœëŒ€ì¹˜ë¡œ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤.`);
            
            // ë£¨ë¹„ ë„ë¼ë¥¼ íšë“í•˜ë©´ ê²Œì„ ì™„ë£Œ
            if (tools[currentToolIndex].name === 'ë£¨ë¹„ ë„ë¼') {
                document.getElementById('game-title').innerText = 'ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰';
                document.getElementById('congratulations-overlay').style.display = 'flex';
            }
            
            updateUI();
        } else {
            showMessage("ì—…ê·¸ë ˆì´ë“œ ë¹„ìš©ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.");
        }
    }

    function repairDurability() {
        const cost = { gold: 0, silver: 0, bronze: repairCost };
        const currentDurability = currentTab === 'trees' ? durability : pickaxeDurability;
        if (currentDurability >= maxDurability) {
            showMessage("ë‚´êµ¬ë„ê°€ ì´ë¯¸ ê°€ë“ ì°¼ìŠµë‹ˆë‹¤.");
            return;
        }
        if (canAfford(cost)) {
            pay(cost);
            if (currentTab === 'trees') {
            durability = Math.min(maxDurability, durability + repairAmount);
            } else {
                pickaxeDurability = Math.min(maxDurability, pickaxeDurability + repairAmount);
            }
            showMessage(`ë‚´êµ¬ë„ë¥¼ ìˆ˜ë¦¬í–ˆìŠµë‹ˆë‹¤. (-${repairCost}ë™)`);
            updateUI();
        } else {
            showMessage("ìˆ˜ë¦¬ ë¹„ìš©ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.");
        }
    }

    // --- íƒ­ ì „í™˜ ---
    function switchTab(tab) {
        currentTab = tab;
        document.getElementById('tab-trees').classList.toggle('tab-active', tab === 'trees');
        document.getElementById('tab-ores').classList.toggle('tab-active', tab === 'ores');
        document.getElementById('tree-list').style.display = tab === 'trees' ? 'grid' : 'none';
        document.getElementById('ore-list').style.display = tab === 'ores' ? 'grid' : 'none';
        updateUI();
    }

    // --- ê´‘ë¬¼ ì±„êµ´ ---
    function mineOre(index) {
        const ore = ores[index];
        const pickaxe = pickaxes[currentPickaxeIndex];

        if (pickaxeDurability < pickaxe.durabilityCost) {
            showMessage("ë‚´êµ¬ë„ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤! ë„êµ¬ë¥¼ ìˆ˜ë¦¬í•˜ì„¸ìš”.");
            return;
        }

        pickaxeDurability -= pickaxe.durabilityCost;
        earn(ore.value);
        showMessage(`${ore.name}ì„(ë¥¼) ì±„êµ´í•´ì„œ ${formatValue(ore.value)}ì„(ë¥¼) íšë“í–ˆìŠµë‹ˆë‹¤!`);
        updateUI();
    }

    // --- ê³¡ê´­ì´ ì—…ê·¸ë ˆì´ë“œ ---
    function upgradePickaxe() {
        const nextPickaxeIndex = currentPickaxeIndex + 1;
        if (nextPickaxeIndex >= pickaxes.length) return;

        const cost = pickaxes[currentPickaxeIndex].upgradeCost;
        if (canAfford(cost)) {
            pay(cost);
            currentPickaxeIndex++;
            pickaxeDurability = maxDurability; // ì—…ê·¸ë ˆì´ë“œ ì‹œ ë‚´êµ¬ë„ ìµœëŒ€ì¹˜ë¡œ íšŒë³µ
            showMessage(`${pickaxes[currentPickaxeIndex].name}(ìœ¼)ë¡œ ì—…ê·¸ë ˆì´ë“œ ì™„ë£Œ! ë‚´êµ¬ë„ê°€ ìµœëŒ€ì¹˜ë¡œ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤.`);
            updateUI();
        } else {
            showMessage("ì—…ê·¸ë ˆì´ë“œ ë¹„ìš©ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.");
        }
    }

    // --- UI ì—…ë°ì´íŠ¸ ---
    function updateUI() {
        // ìê¸ˆ ì—…ë°ì´íŠ¸
        document.getElementById('gold').innerText = money.gold;
        document.getElementById('silver').innerText = money.silver;
        document.getElementById('bronze').innerText = money.bronze;

        if (currentTab === 'trees') {
        // ë‚˜ë¬´ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
        const treeList = document.getElementById('tree-list');
        treeList.innerHTML = ''; // ê¸°ì¡´ ë²„íŠ¼ ì´ˆê¸°í™”
        trees.forEach((tree, index) => {
            const btn = document.createElement('button');
            btn.className = 'tree-btn';
            btn.onclick = () => chopTree(index);
            btn.disabled = currentToolIndex < tree.reqTool;
            btn.innerHTML = `
                <span class="tree-icon">${tree.icon}</span>
                <span class="tree-name">${tree.name}</span>
                <span class="tree-value">${formatValue(tree.value)}</span>
            `;
            treeList.appendChild(btn);
        });

        // ë„êµ¬ ì—…ê·¸ë ˆì´ë“œ UI ì—…ë°ì´íŠ¸
        document.getElementById('current-tool-info').innerText = `í˜„ì¬: ${tools[currentToolIndex].name}`;
        const upgradeBtn = document.getElementById('upgrade-btn');
            upgradeBtn.onclick = upgradeTool;
        const nextTool = tools[currentToolIndex + 1];
        if (nextTool) {
            upgradeBtn.innerHTML = `${nextTool.name}ë¡œ ì—…ê·¸ë ˆì´ë“œ<br>(ë¹„ìš©: ${formatValue(tools[currentToolIndex].upgradeCost)})`;
            upgradeBtn.disabled = !canAfford(tools[currentToolIndex].upgradeCost);
        } else {
            upgradeBtn.innerText = "ìµœê³  ë ˆë²¨ ë„êµ¬ì…ë‹ˆë‹¤";
            upgradeBtn.disabled = true;
        }

        // ë‚´êµ¬ë„ UI ì—…ë°ì´íŠ¸
        document.getElementById('durability-text').innerText = `${durability} / ${maxDurability}`;
        document.getElementById('durability-bar').style.width = `${(durability / maxDurability) * 100}%`;
        document.getElementById('repair-btn').disabled = !canAfford({ gold: 0, silver: 0, bronze: repairCost }) || durability >= maxDurability;
        } else {
            // ê´‘ë¬¼ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
            const oreList = document.getElementById('ore-list');
            oreList.innerHTML = ''; // ê¸°ì¡´ ë²„íŠ¼ ì´ˆê¸°í™”
            ores.forEach((ore, index) => {
                const btn = document.createElement('button');
                btn.className = 'tree-btn';
                btn.onclick = () => mineOre(index);
                btn.disabled = currentPickaxeIndex < ore.reqPickaxe;
                btn.innerHTML = `
                    <span class="tree-icon">${ore.icon}</span>
                    <span class="tree-name">${ore.name}</span>
                    <span class="tree-value">${formatValue(ore.value)}</span>
                `;
                oreList.appendChild(btn);
            });

            // ê³¡ê´­ì´ ì—…ê·¸ë ˆì´ë“œ UI ì—…ë°ì´íŠ¸
            document.getElementById('current-tool-info').innerText = `í˜„ì¬: ${pickaxes[currentPickaxeIndex].name}`;
            const upgradeBtn = document.getElementById('upgrade-btn');
            upgradeBtn.onclick = upgradePickaxe;
            const nextPickaxe = pickaxes[currentPickaxeIndex + 1];
            if (nextPickaxe) {
                upgradeBtn.innerHTML = `${nextPickaxe.name}ë¡œ ì—…ê·¸ë ˆì´ë“œ<br>(ë¹„ìš©: ${formatValue(pickaxes[currentPickaxeIndex].upgradeCost)})`;
                upgradeBtn.disabled = !canAfford(pickaxes[currentPickaxeIndex].upgradeCost);
            } else {
                upgradeBtn.innerText = "ìµœê³  ë ˆë²¨ ë„êµ¬ì…ë‹ˆë‹¤";
                upgradeBtn.disabled = true;
            }

            // ë‚´êµ¬ë„ UI ì—…ë°ì´íŠ¸
            document.getElementById('durability-text').innerText = `${pickaxeDurability} / ${maxDurability}`;
            document.getElementById('durability-bar').style.width = `${(pickaxeDurability / maxDurability) * 100}%`;
            document.getElementById('repair-btn').disabled = !canAfford({ gold: 0, silver: 0, bronze: repairCost }) || pickaxeDurability >= maxDurability;
        }
    }

    // ê²Œì„ ì´ˆê¸°í™”
    switchTab('trees');
    updateUI();
</script>

</body>
</html>
